# **📑 \[Krepis Base Spec 007\] AI 군단 아키텍처 및 비즈니스 거버넌스 통합 명세 (v1.5.0)**

## **1\. 지능형 지휘 체계: 프랙탈 에이전트 워크플로우**

Krepis는 단일 AI가 모든 코드를 짜는 방식이 아닌, **'프랙탈 지능(Fractal Intelligence)'** 구조를 통해 무결성을 확보합니다.

### **1.1 Super Micro Tasking & Recursive CI**

* **원자적 분해(Atomic Decomposition):** LegionMaster는 거대한 Task를 더 이상 쪼갤 수 없는 10\~20줄 내외의 **Super Micro Task**로 분할합니다.  
* **재귀적 자가 교정(Recursive Self-Correction):** 각 Micro Task는 Atomic Executor에게 할당되어 **\[작성 → 네이티브 테스트 실행 → 에러 로그 분석 → 재수정\]** 루프를 통과해야만 완료됩니다.  
* **무결성 커밋(Zero-Defect Commit):** 모든 단위 테스트를 통과한 코드 조각들만이 최종적으로 AiDev 브랜치에 커밋됩니다.

### **1.2 Explicit Context Propagation (지휘 체계)**

* **신경망 전파:** Master의 의도(Intent)와 기술적 제약 사항은 Context 객체에 담겨 말단 AI까지 희석 없이 전달됩니다.  
* **권한 기반 보안:** \[Spec-006\]의 권한 시스템이 Context에 이식되어, AI가 허가되지 않은 파일이나 네트워크에 접근하는 것을 커널 레벨에서 원천 차단합니다.

---

## **2\. 군단 구성: 계층별 AI 모델 배치 전략**

비용 효율성과 성능의 극대화를 위해 모델을 계층화합니다.

| 계층 | 역할 | 추천 모델 (Open Source) | 핵심 역량 |
| :---- | :---- | :---- | :---- |
| **Master** | 전략 수립, Task 분할, 최종 검수 | **Llama 3.3 70B**, **Mistral Large 2** | 고차원 추론, 에이전트 조율 |
| **Expert** | 도메인(보안, 성능)별 심층 검증 | **DeepSeek-V3**, **Mistral Small 3** | 도메인 특화 지식, 정합성 체크 |
| **Sub (Worker)** | 원자 단위 코드 생성 및 무한 루프 | **Qwen2.5-Coder 7B**, **Codestral Mamba** | 초고속 추론, FIM(중간 채우기) |

---

## **3\. 핵심 기능: 마켓플레이스 "USE" (AI 자율 구축)**

사용자가 명세서만 넣으면 서버를 통째로 완성해주는 **Krepis의 킬러 서비스**입니다.

* **상세 문답 인터페이스:** LegionMaster가 유저와 대화하며 아키텍처를 확정합니다.  
* **명세서 기반 자동 생성:** 업로드된 명세(OpenAPI, MD 등)를 기반으로 프랙탈 군단이 즉시 인프라를 구축합니다.  
* **디지털 트윈 시뮬레이션:** 배포 전 가상 환경에서 10만 명의 트래픽을 투입하여 성능을 시각적으로 증명합니다.  
* **Sovereign Sentry (자율 치유):** 배포 후 발생하는 장애를 AI가 실시간으로 감지하고 핫패치하여 'Admin-less' 환경을 실현합니다.

---

## **4\. 비즈니스 모델: 5단계 Sovereign 플랜**

"USE" 기능의 가치와 리소스 소모를 반영한 정교한 수익 구조입니다.

| 티어 | 명칭 | 대상 | "USE" 기능 및 혜택 |
| :---- | :---- | :---- | :---- |
| **1단계** | **FREE** | 학생, 학습자 | 마켓플레이스 열람 및 기본 모듈 사용 |
| **2단계** | **PLUS** | 개인 개발자 | 소규모 모듈 자동 생성 (월 1회) |
| **3단계** | **PRO** | 프리랜서 | 단일 마이크로서비스 전체 구축 (월 3회) |
| **4단계** | **ULTRA** | 스타트업, 팀 | **무제한 자율 치유**, 고성능 군단 투입 (월 10회) |
| **5단계** | **ENTERPRISE** | 대기업, 정부 | 전용 GPU 노드, 온프레미스 AI, 무제한 USE |

---

## **5\. 향후 보완 및 진화 전략**

* **AI 에이전트 거버넌스:** AI 군단의 사고 과정을 시각화된 그래프로 제공하여 투명성을 확보합니다.  
* **Krepis 전용 SFT:** 성공한 Micro Task 데이터를 수집하여, 7B급 경량 모델을 'Krepis 전문가'로 파인튜닝하여 성능을 내재화합니다.  
* **크레딧 시스템:** 구독 쿼터 초과 시 추가 결제를 유도하여 현금 흐름을 다각화합니다.

---


